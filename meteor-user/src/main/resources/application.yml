application:
  version: ${APP_VERSION:1.0.0}

spring:
  application:
    name: meteor-user

  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}

  datasource:
    url: jdbc:mysql://${programmer.mysql.host}:${programmer.mysql.port}/${programmer.mysql.user-db}?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: ${programmer.mysql.username}
    password: ${programmer.mysql.password}
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      connection-timeout: 30000
      maximum-pool-size: 10

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 100MB

  data:
    redis:
      host: ${programmer.redis.host}
      port: ${programmer.redis.port}
      password: ${programmer.redis.password}
      timeout: 5000ms

  cloud:
    nacos:
      discovery:
        server-addr: ${programmer.nacos.addr}

  rabbitmq:
    host: ${programmer.rabbitmq.host}
    port: ${programmer.rabbitmq.port}
    virtual-host: ${programmer.rabbitmq.vhost}
    username: ${programmer.rabbitmq.username}
    password: ${programmer.rabbitmq.password}
    publisher-confirm-type: correlated
    publisher-returns: true
    listener:
      simple:
        default-requeue-rejected: false


server:
  port: ${USER_PORT:8081}

# MP 配置
mybatis-plus:
  type-aliases-package: com.meteor.domain
  type-enums-package: com.meteor.common.enums
  configuration:
    map-underscore-to-camel-case: true
  global-config:
    db-config:
      id-type: auto
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0

# 日志
logging:
  level:
    com.meteor: ${LOG_LEVEL:debug}
  file:
    path: logs

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    operations-sorter: alpha

sa-token:
  token-name: Authorization
  timeout: 86400
  active-timeout: -1
  is-concurrent: false
  is-share: true
  token-style: uuid
  is-log: true
  token-prefix: Bearer

meteor:
  minio:
    endpoint: ${programmer.minio.endpoint}
    access-key: ${programmer.minio.access-key}
    secret-key: ${programmer.minio.secret-key}
    bucket: ${programmer.minio.bucket:meteor}
    path-style: true
    presigned-url-expire-minutes: 5
